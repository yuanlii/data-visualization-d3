<html>
    <head>
        <link rel="stylesheet" href="index.css">
        <title>Learn D3.js</title>
    </head>

    <style>
        body {
            font-family: "Helvetica Neue", Helvetica, sans-serif;
            font-size: 14px;
            color: #333;
        } 
        
        rect {
            fill: steelblue;
            }
        
        text {
            text-anchor: end;
            }
        
        /* build-in function for hovering effect */
        rect:hover {
            fill: orange;
            }
        

    </style>

    <body>
        <svg width='800' height='200'>
            <g transform="translate(70, 70)">
                    <rect />
                    <rect />
                    <rect />
                    <rect />
                    <rect />

            </g>

            <g transform="translate(70, 70)">
                    <text />
                    <text />
                    <text />
                    <text />
                    <text />
                  </g>
        </svg>
    
        <script src="https://d3js.org/d3.v4.min.js"></script>
        <!-- reference to index.js -->
        <script>
           var cities = [
            { name: 'London', population: 8674000},
            { name: 'New York', population: 8406000},
            { name: 'Sydney', population: 4293000},
            { name: 'Paris', population: 2244000},
            { name: 'Beijing', population: 11510000}
            ];

            d3.selectAll('rect')
            .data(cities)
            // can set height all at once at the end; instead of setting attributes one by one in the svg container
            .attr('height', 19)
            .attr('width', function(d) {
                var scaleFactor = 0.00004;
                return d.population * scaleFactor;
            })
            .attr('y', function(d, i) {
                return i * 20;
            })

            // Join cities to text elements and modify content and position
            d3.selectAll('text')
            .data(cities)
            .attr('y', function(d,i) {
                return i * 20 + 13;
            })
            .attr('x', -4)
            .text(function(d) {
                return d.name;
            });
        </script>
    </body>
</html>